!function(a){function b(){var b=[],c=[];a(".plan-wrapper").each(function(){var d=a(this).children(".plan").attr("plan_id");b.push(d),1!=a(this).css("opacity")&&c.push(d)}),localStorage.plansOrder=JSON.stringify(b),localStorage.plansOpacity=JSON.stringify(c)}if(a("#content").length){var c,d=a(".plan.todo"),e=.4;if(d.dblclick(function(){1==a(this).css("opacity")?a(this).css("opacity",e):a(this).css("opacity",1),b()}).wrapAll("<div id='sortablePlans'></div>"),c="<div id='sortablePlans'></div>",d.wrapAll(c),c.sortable({stop:b}),localStorage.plansOrder)for(var f=JSON.parse(localStorage.plansOrder),g=0;g<f.length;g++)d.each(function(){a(this).children(".plan").attr("plan_id")==f[g]&&a(this).detach().appendTo(c)});if(localStorage.plansOpacity)for(var h=JSON.parse(localStorage.plansOpacity),g=0;g<h.length;g++)a(".plan.todo[plan_id='"+h[g]+"']").parent().css("opacity",e);b()}}(jQuery);